<link rel="import" href="../testing-data/pb-data-faker.html">
<link rel="import" href="../components/pb-time-series-chart.html">
<link rel="import" href="../components/pb-calendar.html">
<link rel="import" href="../components/pb-project-term.html">

<dom-module id="pb-components-demo">

    <template>
        <style>
             :host {
                display: block;
            }
            
            text {
                font-family: 'CA Sans', 'Helvetica', 'sans-serif';
            }
        </style>
        <button on-tap='generateNewChartData'>Change Data</button> <button on-tap='generatePlaceHolderData'>Create Simulated Placeholder</button>
        <pb-time-series-chart data={{chartData}} add-proj-mode=true placeholder-dates={{placeholderData}}></pb-time-series-chart>
        <pb-calendar month-timestamp={{monthTimestamp}}></pb-calendar>
        <pb-project-term selected-date-range='{{placeholderData}}'></pb-project-term>
    </template>
    <script>
        (function () {
            'use strict';
            
            const pbFaker = PBProjectWidgetTestDataFaker;

            let polymerConfig = {
                is: 'pb-components-demo',
                properties: {
                    chartData: {
                        type: Array,
                        notify: true,
                        value: pbFaker.fakeDataGenerator.generateStore(10)
                    },
                    monthTimestamp: {
                        type: Number,
                        notify: true,
                        value: 1458975342788
                    },
                    placeholderData:{
                        type: Object,
                        notify: true,
                        value: {}
                    }
                    
                },
                generateNewChartData: function(){
                    this.chartData = pbFaker.fakeDataGenerator.generateStore(10);
                },
                generatePlaceHolderData: function(){
                    let newData =  pbFaker.fakeDataGenerator.generateStore(1)[0];
                    this.set('placeholderData',{
                        startDate: newData.projectedStartDate,
                        endDate: newData.projectedEndDate,
                    });
                }
            };
            Polymer(polymerConfig);
        })();
    </script>

</dom-module>